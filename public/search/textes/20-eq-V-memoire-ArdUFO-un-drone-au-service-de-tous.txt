Projet rÃ©alisÃ© par :

Decoodt ClÃ©ment
HouzÃ©-Jorant GrÃ©goire
EncadrÃ© par : Valant Karl Maximilien

TABLE DES MATIERES
INTRODUCTION ................................................................................................................................................ 4
PRESENTATION GLOBALE ................................................................................................................................ 4
FONCTIONNEMENT ET SYSTEMES..................................................................................................................... 5
TELECOMMANDE......................................................................................................................................... 5
DÃ‰TERMINER LA POSITION DES AXES ...................................................................................................... 5

SÃ‰RIALISATION DES SIGNAUX REÃ‡US ..................................................................................................... 6
Ã‰MISSION ................................................................................................................................................ 7
CODE INTERNE DE REGULATION EN BOUCLE ............................................................................................... 8
ACQUISITION DES DONNEES | CENTRALE INERTIELLE ............................................................................. 8
TRAITEMENT DU SIGNAL......................................................................................................................... 9
CONTROLE DES DONNEES ...................................................................................................................... 10

ELECTRONIC SPEED CONTROLER .............................................................................................................. 11
LES HELICES .............................................................................................................................................. 12
HELICES ............................................................................................................................................... 12
ACTION â€¦ REACTION ! ........................................................................................................................ 12
TRANSPORT Dâ€™UNE MASSE DE A EN B ....................................................................................................... 13
TESTS ET PROTOTYPAGE ................................................................................................................................ 15
PREMIER PROTOTYPE ................................................................................................................................ 16
DEUXIEME PROTOTYPE ............................................................................................................................. 17
TROISIEME PROTOTYPE ............................................................................................................................. 17
CONCEPTION ........................................................................................................................................ 17
TESTS DU TROISIEME PROTOTYPE ......................................................................................................... 18
QUATRIEME PROTOTYPE ........................................................................................................................... 18
CONCEPTION ........................................................................................................................................ 18
STATION DE CONTROLE AU SOL............................................................................................................. 19

CONCLUSION ................................................................................................................................................. 21
BIBLIOGRAPHIE........................................................................................................................................ 22

1

RÃ©sumÃ©
Notre projet consiste en la crÃ©ation dâ€™un drone, un aÃ©ronef sans pilote, qui a pour but de localiser la/les victime(s),
qui est Ã©tape cruciale dans tout sauvetage, puis de leur apporter des soins. Tout au long de lâ€™annÃ©e, nous avons donc
effectuÃ© divers prototypes qui mettaient fin Ã  chaque fois aux problÃ¨mes rencontrÃ©s sur les prototypes prÃ©cÃ©dents.
Cela nous a ainsi permis dâ€™amÃ©liorer constamment notre drone dans lâ€™optique de son application. Pour commencer
notre projet, nous avons tout dâ€™abord pensÃ© Ã  lâ€™utilisation dâ€™un drone pour des applications de sauvetage grÃ¢ce Ã  des
dÃ©fibrillateurs. Nous avons ensuite fait le choix des divers composants nÃ©cessaires Ã  son fonctionnement et
rÃ©pondants aux objectifs de lâ€™application comme par exemple avec la camÃ©ra. Ces composants devaient Ã©galement
Ãªtre compatible entre eux et rentrer dans notre budget. Nous nous sommes ensuite attardÃ©s Ã  leurs fonctionnements
puis nous avons effectuÃ© la rÃ©alisation du premier prototype. Viens ensuite une longue pÃ©riode oÃ¹ nous avons fait
les diffÃ©rents rÃ©glages comme le rÃ©glage des hÃ©lices dont certains compliquÃ©s ont Ã©tÃ© rÃ©alisÃ©s selon une succession
de tests. DiffÃ©rents crashs et problÃ¨mes comme la stabilitÃ© pour notre application sont alors apparues et nous avons
procÃ©dÃ© Ã  dâ€™autres prototypes prÃ©sentant de nombreuses Ã©volutions notamment au niveau de la stabilitÃ©, de la
protection mais Ã©galement dans la prÃ©cision et le confort du contrÃ´le du drone avec la fabrication dâ€™un flightcase.
Dans un souci dâ€™une meilleure prÃ©cision des rÃ©glages, nous avons effectuÃ© une recherche plus approfondie des
notions physique que le drone soulÃ¨ve.

2

PrÃ©ambule
Le point de dÃ©part a Ã©tÃ© la lecture dâ€™un article sur internet concernant les dÃ©fibrillateurs
(http://www.undefipourlavie.com/defibrillateur-automatise-externe-samaritan-pad/) oÃ¹ il est Ã©crit :
Â« En France, on dÃ©nombre chaque annÃ©e 60 000 dÃ©cÃ¨s dus Ã  un arrÃªt cardiaque, soit 164 dÃ©cÃ¨s par jour. 88 %
de ces dÃ©cÃ¨s ont lieu dans des lieux publics : travail, transports publics, centres commerciaux, centres sportifs,
gares, voies publiquesâ€¦. Chaque minute perdue fait diminuer de 10% les chances de rÃ©tablissement sans
sÃ©quelles. IdÃ©alement la dÃ©fibrillation doit Ãªtre rÃ©alisÃ©e dans les 5 premiÃ¨res minutes suivant lâ€™accident, afin
dâ€™augmenter les chances de survie. Selon lâ€™Inserm, une intervention rapide grÃ¢ce au dÃ©fibrillateur et au massage
cardiaque permettrait de sauver prÃ¨s de 12 000 vies chaque annÃ©e. Â»
Nous nous sommes alors posÃ© la question : comment pouvoir gagner ces prÃ©cieuses minutes ?
En nous renseignant, nous avons vu quâ€™il existait de nombreux dÃ©fibrillateurs publics, rÃ©pertoriÃ©s et localisÃ©s
(http://defibrillateurs-en-france.com/). Mais le citoyen quelconque ne sait souvent pas oÃ¹ ils sont. Imaginons Ã©quiper
les dÃ©fibrillateurs sur des drones pilotables Ã  distance et gÃ©rÃ©s par les centres de secours. Le poids des nouveaux
dÃ©fibrillateurs devrait le permettre. DÃ¨s quâ€™un appel aux urgences est lancÃ©, sans problÃ¨mes de feux, de sens uniques,
d'embouteillages, toujours prÃªt, le drone est un moyen rapide, surtout en ville, dâ€™accÃ©der aux victimes! Il s'agirait de
gagner de prÃ©cieuses minutes, le drone prÃ©cÃ©dant lâ€™arrivÃ©e physique des secours et permettant aux personne non
secouristes prÃ©sentes sur les lieux de rÃ©aliser les premiers gestes vitaux. Le drone Ã©tant muni d'une camÃ©ra, d'un
microphone, d'un haut-parleur et dâ€™un Ã©cran LCD, il y a dâ€™autres possibilitÃ©s : en attendant les premiers secours, on
peut envisager de filmer ce qui se passe, un secouriste en observant les images (via le web ou autre liaison), peut se
rendre compte de la situation et donner des ordres plus prÃ©cis que s'il n'y avait qu'une communication tÃ©lÃ©phonique:
dans quelle position mettre la victime ou au contraire ne pas la dÃ©placer, voir son Ã©tat comateux ou pas, comment
rÃ©aliser un massage cardiaque...
Nous nous sommes aperÃ§us que les drones existants Ã©taient trÃ¨s chers et ne permettaient pas le transport dâ€™objets ou
alors, nâ€™avaient pas de possibilitÃ© dâ€™Ã©volution pour sâ€™adapter Ã  notre problÃ©matique (pilotage Ã  distance,
Ã©ventuellement en immersion, communication etc...). Il faudrait donc tout rÃ©aliser soi-mÃªme.
Ce projet nous est trÃ¨s vite apparu trÃ¨s ambitieux pour un TPE. Cependant, nous nous sommes lancÃ© le dÃ©fi
dâ€™apporter une contribution Ã  la rÃ©solution de ce problÃ¨me

3

INTRODUCTION
Dans le cadre de nos TPE, nous avions dÃ©cidÃ© dâ€™entreprendre la rÃ©alisation dâ€™un drone, un aÃ©ronef sans
pilote, pour mettre Ã  lâ€™Ã©preuve nos compÃ©tences en matiÃ¨re dâ€™Ã©lectronique et dâ€™aÃ©rodynamique, de dÃ©veloppement et
de gestion de projet. Ce projet dans le cadre du TPE ayant trÃ¨s bien fonctionnÃ©, nous avons dÃ©cidÃ© de nous consacrer
Ã  son amÃ©lioration dans un contexte touchant le milieu plus physique.
AprÃ¨s une prÃ©sentation globale de notre projet ou nous expliquerons le choix dâ€™un quadricoptÃ¨re et justifierons le
titre dâ€™un drone Â« au service de tous Â», nous nous intÃ©resserons Ã  la comprÃ©hension des diffÃ©rents composants
nÃ©cessaires Ã  la rÃ©alisation dâ€™un quadricoptÃ¨re et de certains phÃ©nomÃ¨nes physiques sous-jacents ainsi quâ€™a lâ€™histoire
Ã©volutive du drone Ã  travers les diffÃ©rents prototypes que nous avons rÃ©alisÃ©s.

PRESENTATION GLOBALE
Pourquoi un quadricoptÃ¨re comme drone ?
PassionnÃ©s dâ€™Ã©lectronique et de programmation nous avons dÃ©cidÃ©
de mÃªler les deux domaines en sâ€™intÃ©ressant au domaine de la
robotique. En effet, celui-ci mÃ¨ne parfaitement ces deux sujets et
nous nous sommes donc mis dâ€™accord pour mettre au point une
sorte de robot automatique. Puis un ami nous a montrÃ© cette vidÃ©o:
http://www.youtube.com/watch?v=TI760jcFV2s
Elle montre des quadricoptÃ¨res en train de construire une tour de 6
mÃ¨tres de haut. Nous nous sommes donc demandÃ© comment cela
Ã©tait possible et nous sommes alors intÃ©ressÃ©s Ã  la conception dâ€™un
drone et plus particuliÃ¨rement dâ€™un quadricoptÃ¨re. Nous avons
alors imaginÃ© diverses applications comme la localisation de
victimes, la surveillance, la cartographie, etc. Remarquant les
immenses possibilitÃ©s des quadricoptÃ¨res, nous avons choisi dâ€™Ã©tendre la problÃ©matique de notre drone sur sa
polyvalence et donc sur des diverses applications visant des usages civils, puis nous nous sommes intÃ©ressÃ©s Ã  leur
application de SAR (Recherche et Sauvetage en Anglais).
Le principal avantage dâ€™un quadricoptÃ¨re dans notre cas est assez simple : Il est plus stable quâ€™un hÃ©licoptÃ¨re
classique pour le mÃªme prix et le mÃªme encombrement. Il peut Ã©galement porter des charges plus lourdes. Plus le
multicoptÃ¨re a de moteurs, plus il sera stable. Par exemple, un octocoptÃ¨re est plus stable quâ€™un tricoptÃ¨re ou un
hÃ©licoptÃ¨re (deux hÃ©lices). Autre chose entre cependant en compte : le budget. Il est donc nÃ©cessaire de trouver un
juste milieu entre budget et stabilitÃ© ; dâ€™oÃ¹ le choix de quatre moteurs
Le budget dont nous disposions nous permettait simplement de rÃ©aliser un drone pouvant fonctionner et donc voler
sans Ã©quipements permettant une certaine application (comme le transport dâ€™un dÃ©fibrillateur). Nous avons donc
dÃ©cidÃ© de diriger notre drone vers une application touchant la surveillance civile ou la localisation de victimes car
ceci pour pouvait se faire avec une simple camÃ©ra.
Nous avons orientÃ© notre projet vers un dÃ©veloppement open-source, câ€™est-Ã -dire un dÃ©veloppement qui pourra Ãªtre
rÃ©utilisÃ© librement. Ainsi, des personnes pourront rÃ©utiliser notre dÃ©marche comme nous nous pouvons rÃ©utiliser par
exemple le code interne du logiciel de traitement des images en relation avec la camÃ©ra dâ€™une personne lâ€™ayant placÃ©
sous une licence libre de droit. Toujours dans un contexte de disponibilitÃ© pour tous, lâ€™ensemble de notre projet sera

4

disponible sur internet (site http://ardufo.funpic.org), et lâ€™ensemble des explications quant Ã  son fonctionnement sera
destinÃ© Ã  une population trÃ¨s large. Dans une optique de polyvalence, nous avons dÃ©cidÃ© que notre quadricoptÃ¨re
puisse Ãªtre facilement modifiable dans son systÃ¨me interne de contrÃ´le et de gestion. Nous avons donc dÃ©cidÃ© de
faire lâ€™acquisition dâ€™une carte de vol (carte Ã©lectronique qui effectue tous les calculs de rÃ©partitions entre moteurs et
qui permet lâ€™analyse des diffÃ©rentes positions vectorielles du drone) qui soit rÃ©cente et surtout open-source : la carte
VRBrain. Cette carte peut facilement Ãªtre modifiable par nous-mÃªme mais aussi par des centaines de personnes. De
plus cette carte inclut pour un mÃªme prix un autopilote, une tÃ©lÃ©mÃ©trie plus avancÃ©e que dâ€™autres cartes comme les
cartes KK avec lâ€™affichage dâ€™un horizon virtuel qui peut Ãªtre fusionnÃ© Ã  une lâ€™affichage de la camÃ©ra, un processeur
ARM Cortex M4 trÃ¨s puissant et peu consommateur dâ€™Ã©nergie, â€¦ Nous avons alors choisi comme nom de projet
celui qui soutient le groupe de dÃ©veloppement de la Carte ArduPilot Mega (la carte VRBrain est un fork â€“ projet
dÃ©rivÃ© â€“ de cette carte) : le projet ArdUFO. Ainsi, notre projet sâ€™en trouve constamment amÃ©liorable et peut alors Ã 
tout moment basculer vers une application diffÃ©rente de celle que nous proposons.
Nous avons donc montrÃ© que le choix dâ€™un quadricoptÃ¨re Ã©tait appropriÃ© pour le transport de dÃ©fibrillateurs mais
que les champs dâ€™application sont beaucoup plus nombreux. DÃ¨s son origine, ArdUFO qui sâ€™oriente vers une mission
altruiste de sauvetage, a pour vocation dâ€™Ãªtre Â« au service de tous Â». Lâ€™esprit du projet open-source renforce cette
notion en le rendant rÃ©alisable par tous et en Ã©tant le plus polyvalent possible.

FONCTIONNEMENT ET SYSTEMES
La premiÃ¨re Ã©tape lors de la rÃ©alisation dâ€™un produit est de comprendre comment il fonctionne, dâ€™un point
de vue tant de la comprÃ©hension des phÃ©nomÃ¨nes physiques que du dÃ©veloppement du code interne.

TELECOMMANDE
La tÃ©lÃ©commande que nous avions lors des tests ne nous satisfaisant pas de par son manque de prÃ©cision, nous avons
choisi dâ€™en rÃ©aliser une par nos propres moyens. Un problÃ¨me câ€™est alors posÃ© : comment reproduire le
fonctionnement dâ€™une tÃ©lÃ©commande ?

DÃ‰TERMINER LA POSITION DES AXES
Le potentiomÃ¨tre est indispensable dans tout joystick. Il permet en effet dâ€™interprÃ©ter chaque position axiale du
joystick en une tension qui sera appliquÃ© Ã  un signal numÃ©rique pouvant Ãªtre Â« lu Â» par la carte de contrÃ´le de notre
drone.
Mais comment fonctionne-t-il ?
Un potentiomÃ¨tre est constituÃ© de trois bornes dont une est considÃ©rÃ© comme un curseur qui va changer de position
sur une piste rÃ©sistante dont les extrÃ©mitÃ©s sont les deux autres bornes. Chaque position axiale donnÃ©e par le joystick
va correspondre Ã  une position du curseur sur la piste. La position du curseur est ensuite interprÃ©tÃ©e en fonction de
la tension mesurÃ©e entre lui-mÃªme et une borne.
Figure 1 ReprÃ©sentation schÃ©matique d'un potentiomÃ¨tre

5

Quatre directions sont Ã  mesurer : la manette des gaz, le tangage, le roulis et le lacet.

Figure 2 DiffÃ©rentes commandes pour diffÃ©rents axes

SÃ‰RIALISATION DES SIGNAUX REÃ‡US
A prÃ©sent, nous voilÃ  avec quatre tensions variant entre 0 et 5V.
Et aprÃ¨s ? 4 tensions ne peuvent pas Ãªtre envoyÃ©es directement ! Comment donc faire pour tout
regrouper en un seul et unique signal Ã  Ã©mettre ? Faire la somme des tensions ? Non, impossible de
dÃ©terminer la position, il nous manquerait des informations â€¦
En vÃ©ritÃ©, nous nâ€™allons pas sommer directement les tensions, nous allons les sÃ©rialiser. Pour cela, nous allons mettre
des valeurs numÃ©riques Â« bout Ã  bout Â» ! En fait le concept est simple, il sâ€™appelle signal PPM (Pulse-Position
Modulation). Lâ€™avantage est de rÃ©duire toutes les connections quâ€™il peut y avoir en â€¦ un seul fil ! Le signal se
dÃ©compose en une trame dâ€™impulsions dont en voici un exemple que nous allons Ã©tudier.

Figure 3 ReprÃ©sentation d'un signal PPM

6

Le signal que vous pouvez voir figure 3 correspond Ã  la reprÃ©sentation dâ€™un signal ppm. Une trame de donnÃ©es est
envoyÃ©e toutes les 22.5ms. Elle est normalement composÃ©e de 7 impulsions, car le signal peut envoyer jusquâ€™Ã  8
valeurs, mais peut Ãªtre rÃ©duite si besoin est. La durÃ©e entre chaque impulsion correspond (Ã  facteur multiplicatif
prÃ¨s) Ã  la valeur de la tension qui nous est donnÃ©e par les potentiomÃ¨tres. Elle peut ainsi Ãªtre lue facilement et
rafraichie toutes les 22.5ms, ce qui est trÃ¨s suffisant pour ce genre de commandes.
Le signal est ensuite Ã©ventuellement retraitÃ© par lâ€™unitÃ© dâ€™Ã©mission pour y inclure dâ€™autres informations comme lâ€™Ã©tat
de la liaison, un chiffrage de la liaison, etc. Mais ce signal est totalement transparent en dehors de la liaison.

Ã‰MISSION
Lorsque le signal est gÃ©nÃ©rÃ©, il ne reste plus quâ€™une Ã©tape dans la radiocommande : lâ€™Ã©mettre.
Câ€™est Ã©trange, le courant ne passe pas dans lâ€™air non ? Comment alors envoyer un signal
Ã©lectrique ?
En rÃ©alitÃ© le courant passe dans lâ€™air, seulement, il nâ€™est pas visible, il est sous la forme dâ€™ondes Ã©lectromagnÃ©tiques.
Ce phÃ©nomÃ¨ne a Ã©tÃ© dÃ©couvert par Faraday :
Quand le flux du champ magnÃ©tique Ã  travers un circuit fermÃ© change, il apparait un courant Ã©lectrique
Loi de Faraday

La rÃ©ciproque est Ã©galement due Ã  la dÃ©couverte de Faraday. La frÃ©quence du signal sÃ©rialisÃ© est de lâ€™ordre de 50Hz
environ. Sachant que la longueur de lâ€™antenne est (Ã  facteur multiplicatif prÃ¨s) proportionnelle Ã  la longueur dâ€™onde
de lâ€™onde Ã©mise, lâ€™antenne devrait Ãªtre de plusieurs kilomÃ¨tres de longueur ! Nous allons donc utiliser pour cela une
onde porteuse de haute frÃ©quence.
Une onde porteuse ? Câ€™est une onde qui va porter le signal ?
Exactement ! Nous allons faire de la Modulation par DÃ©placement de FrÃ©quence (FSK : Frequency Shift Keying).
Le principe est simple : utiliser une onde dâ€™une certaine frÃ©quence, et moduler (câ€™est-Ã -dire modifier) la frÃ©quence
dans certaines parties : la frÃ©quence sera plus importante lorsque lâ€™impulsion ppm est donnÃ©e, et moins Ã©levÃ©e lorsque
lâ€™Ã©tat du signal sera Ã  0.
Maisâ€¦ La frÃ©quence dÃ©pend aussi de la vitesse relative entre lâ€™Ã©metteur et le rÃ©cepteur !
Oui, câ€™est lâ€™effet Doppler. Mais ici, câ€™est la diffÃ©rence entre les deux frÃ©quences qui permet de dÃ©tecter un
changement dâ€™Ã©tat, donc peu importe la vitesse des Ã©metteurs/rÃ©cepteurs, le signal est toujours modulÃ© de la mÃªme
maniÃ¨re, et va donc toujours donner un signal modulÃ©, Ã  frÃ©quence de la porteuse prÃ¨s, identique. De plus, la
frÃ©quence de la porteuse dÃ©passant les 433MHz (pour les plus faibles), il faudrait aller Ã  plus de 300km.h-1 pour
Ã©ventuellement perdre une partie du signal !

ANTENNE RADIO
Lors de lâ€™Ã©mission, il est nÃ©cessaire de convertir le courant en une onde Ã©lectromagnÃ©tique. Câ€™est le travail de
lâ€™antenne radioÃ©lectrique. Elle va permettre de rayonner (ou de capter) des ondes Ã©lectromagnÃ©tiques. Elle est
constituÃ©e dâ€™une longueur bien dÃ©finie de conducteur, petite devant la longueur dâ€™onde spatiale, dans laquelle nous

7

y faisons circuler le signal amplifiÃ© que nous avons gÃ©nÃ©rÃ© avant. La relation liant la frÃ©quence f du signal Ã  Ã©mettre
(soit la porteuse) Ã  la longueur effective dâ€™une antenne (type omnidirectionnel : un fil conducteur) est la suivante :
ğœ†

ğ‘™ = car le rendement est optimal lorsque lâ€™Ã©mission est en quart dâ€™onde ("l" correspond Ã  la longueur effective de
4

ğ‘

lâ€™antenne, ğœ† = la longueur dâ€™onde). Cette Ã©quation nâ€™est valable que lorsque lâ€™Ã©mission est rÃ©alisÃ©e sur une antenne
ğ‘“

constituÃ©e dâ€™un fil dÃ©nudÃ© de longueur l.
Il existe de nombreux types dâ€™antennes caractÃ©risÃ©es comme telles : frÃ©quence dâ€™utilisation, impÃ©dance de lâ€™antenne,
directivitÃ©, polarisation, rendement, dimensions, formes, etc.
GÃ©nÃ©ralement, Ã  un Ã©metteur/rÃ©cepteur nâ€™est associÃ© que trÃ¨s peu
dâ€™antennes, la grande diffÃ©rence va souvent se jouer sur la directivitÃ©
et donc la forme du diagramme dâ€™Ã©mission des antennes.
Voici un exemple de diagramme de rayonnement dâ€™une antenne de
type cardioÃ¯de. En gÃ©nÃ©ral les antennes utilisÃ©es sont de type
omnidirectionnel, ce qui permet dâ€™Ã©mettre dans presque toutes les
directions. Les diagrammes sont rÃ©alisÃ©s en chambre anÃ©choÃ¯de (les
parois empÃªchent tout Ã©cho des ondes Ã©lectromagnÃ©tiques en les absorbant).

CODE INTERNE DE REGULATION EN BOUCLE
Le signal dâ€™ordre est Ã  prÃ©sent en possession de la carte de vol. Il faut alors rÃ©cupÃ©rer les informations de son attitude
de vol et traiter les donnÃ©es pour en dÃ©duire ce quâ€™il faut envoyer Ã  chaque moteur.

ACQUISITION DES DONNEES | CENTRALE INERT IELLE
ACCELEROMETRES
On en parle partoutâ€¦ Smartphones, tablettes, et mÃªme dans les disques durs ! Mais finalement â€¦
Quâ€™est-ce que câ€™est ? Pourquoi en utilise-t-on partout et pourquoi en avoir mis un ici ?
Un accÃ©lÃ©romÃ¨tre, comme son nom lâ€™indique, est un outil qui sert Ã  mesurer une accÃ©lÃ©ration. En rÃ©alitÃ©,
lâ€™accÃ©lÃ©romÃ¨tre mesure une force. Or dâ€™aprÃ¨s la seconde loi de Newton, ğ¹âƒ— = ğ‘š. ğ‘âƒ— donc une force mesurÃ©e
correspond Ã  une accÃ©lÃ©ration. A prÃ©sent, rÃ©alisons une petite expÃ©rience : prenons un accÃ©lÃ©romÃ¨tre et posons-le
sur notre bonne vieille Terre. Que pensez-vous que lâ€™accÃ©lÃ©romÃ¨tre mesurera ?
Quâ€™est-ce quâ€™il pourrait y avoir comme accÃ©lÃ©ration ici ? Rien ! Lâ€™accÃ©lÃ©romÃ¨tre ne dÃ©tecterait
aucune accÃ©lÃ©ration !
Imaginons quâ€™aucune accÃ©lÃ©ration nâ€™existe sur Terre. Que se passerait-il ? Nous serions comme dans une salle sans
pesanteur : le systÃ¨me qui nous permet de rester dans une certaine position est constituÃ© dâ€™accÃ©lÃ©romÃ¨tres. Sâ€™il ne
dÃ©tecte rien, alors nous aurons lâ€™impression de tomber constamment. Il existe donc une accÃ©lÃ©ration qui nous
attirerait vers le plancher de la salle, nous donnant une impression de pesanteur ! Lâ€™accÃ©lÃ©ration dÃ©tectÃ©e par un
accÃ©lÃ©romÃ¨tre est donc de 9.81 m.s-2 dirigÃ©e vers le haut !

8

Nous savons donc Ã  prÃ©sent comment mesurer les accÃ©lÃ©rations du drone grÃ¢ce Ã  trois accÃ©lÃ©romÃ¨tres (un par
dimension), mais il nous manque une information â€¦

GYROSCOPES
Le gyroscope utilisÃ© dans le drone est un gyroscope de type
piÃ©zoÃ©lectrique. Le principe de fonctionnement global est
dâ€™utiliser le phÃ©nomÃ¨ne gyroscopique pour dÃ©terminer
lâ€™inclinaison du gyroscope par rapport Ã  lâ€™azimut. Le mode de
fonctionnement piÃ©zoÃ©lectrique utilise une masse sur des
ressorts pour faire bouger un chÃ¢ssis avec des pics situÃ©s entre
deux autres pics. Cela crÃ©Ã© un condensateur dont la capacitÃ©
varie. La plaque est mise en rotation pour dÃ©tecter lâ€™inclinaison
par rapport Ã  un rÃ©fÃ©rentiel (calibrÃ© Ã  lâ€™azimut).
Figure 4 SchÃ©ma du circuit d'un gyroscope de type piÃ©zoÃ©lectrique.
Ce circuit est mis en rotation autours d'un axe

MAGNETOMETRE ET GPS
Le magnÃ©tomÃ¨tre est un instrument qui, comme son nom lâ€™indique sert Ã  mesurer lâ€™intensitÃ© et lâ€™orientation du champ
magnÃ©tique dans lequel il se trouve.
Mais Ã  quoi peut-il bien servir dans un drone ? La connaissance du nord est-il vraiment si
importante ? AprÃ¨s tout, le GPS ne suffirait-il pas ? Personnellement mon GPS fonctionne trÃ¨s bien
sans magnÃ©tomÃ¨tre !
Le GPS nous donnera la position du drone (ses coordonnÃ©es) mais en aucun cas il ne nous indiquera son orientation.
Il a besoin dâ€™effectuer des calculs et il est nÃ©cessaire de rÃ©aliser des mouvements pour quâ€™il puisse le dÃ©tecter. Par
exemple : prenez un GPS et marchez en arriÃ¨re. Le GPS ne saura en aucun cas si votre direction est (par rapport au
GPS) Ã  lâ€™endroit ou Ã  lâ€™envers. Lâ€™utilisation dâ€™un magnÃ©tomÃ¨tre permet en rÃ©alitÃ© de connaitre immÃ©diatement
lâ€™orientation du drone !

TRAITEMENT DU SIGNAL
A prÃ©sent, nous avons tous les capteurs nÃ©cessaires pour le bon vol du drone. Comment, Ã  partir de
son attitude et de lâ€™ordre que nous lui avons donnÃ©, le drone va-t-il donner un ordre Ã  chaque
moteur ?
Nous allons utiliser le systÃ¨me de rÃ©gulation PID (Proportionnelle, IntÃ©grale, DÃ©rivÃ©e). Câ€™est un systÃ¨me de
rÃ©gulation sans fin qui permet de corriger par le biais des moteurs la diffÃ©rence entre un ordre donnÃ© (par exemple
par la radiocommande) et la rÃ©alitÃ© (estimÃ©e grÃ¢ce Ã  lâ€™IMU). Le systÃ¨me analyse la diffÃ©rence et la corrige par le
moyen de trois mÃ©thodes (PID) :
- P correspond au coefficient de rÃ©activitÃ© des moteurs (si P est faible, le moteur est Â« mou Â», sâ€™il est trop
Ã©levÃ©, il sera trop rÃ©actif et oscillera).

9

- I est un rÃ©glage plus fin, il utilise lâ€™intÃ©grale de la courbe dâ€™erreur, et agit pour rÃ©duire sa surface, il prend
donc en compte le Â« passÃ© Â» de la courbe. La courbe doit tendre vers la rÃ©alitÃ©, donc la surface doit Ãªtre minimale
(tendre vers 0)
- D est un rÃ©glage encore plus fin (pas utilisÃ© dans notre systÃ¨me) qui intervient sur la dÃ©rivÃ©e de la courbe
dâ€™erreur. Il rÃ©duit ainsi le coefficient directeur de la tangente pour quâ€™elle tende vers 0. Elle anticipe donc le futur.
Le graphique que vous pouvez voir Fig. 3 nous montre ce quâ€™il se passe lorsque les rÃ©glages sont modifiÃ©s
(x reprÃ©sente le temps et y lâ€™ordre en u.a.). Ã€ chaque moteur va Ãªtre assignÃ© une partie des donnÃ©es et un systÃ¨me
PID qui va lui permettre de donner lâ€™ordre.

Figure 5 ReprÃ©sentation des variations PID, lâ€™axe des X reprÃ©sente le temps en secondes et lâ€™axe des Y reprÃ©sente lâ€™action en unitÃ©s
arbitraires

CONTROLE DES DONNEES
En imaginant que le vol soit immersif ou automatique, comment alors vÃ©rifier que lâ€™ordre est bien
rÃ©alisÃ© ? Il nous faudrait un retour de contrÃ´le â€¦
Effectivement, nous allons utiliser un module dit de tÃ©lÃ©mÃ©trie (Â« mesures Ã  distance Â»). Le module de tÃ©lÃ©mÃ©trie
ajoutÃ© au mois de janvier 2012 nous permet de possÃ©der une liaison permanente entre le drone et lâ€™ordinateur. Ceci
nous a permis dâ€™Ã©tendre les possibilitÃ©s car la station au sol peut gÃ©rer de nombreuses commandes, comme le
dÃ©collage automatique, le vol en autonomie, le RTL (Return To Launch) et bien dâ€™autres fonctions quâ€™il nous sera
alors rapidement possible dâ€™ajouter. Nous avons utilisÃ© diverses stations de sol : HKâ€™s Ground Control Station,
QGroundControl, ArduPilotMissionPlanner, etc. AprÃ¨s divers essais, nous avons remarquÃ© que chaque station est
utile dans une certaine condition, QGroundControl est plus polyvalent, ArduPilotMissionPlanner est plus efficace
dans son horizon virtuel et pour le vol en autonomie tandis que HK est plus utile pour le contrÃ´le des capteurs.

10

Puisquâ€™il
est
possible
de
communiquer avec de nombreuses
stations de sol, le langage utilisÃ© ne
serait-il pas universel ?
Le langage qui est utilisÃ© pour communiquer se
nomme MAVLink (Micro Air Vehicle Link). CrÃ©Ã© Ã 
lâ€™origine par Lorenz Meier Ã  lâ€™ETH de Zurich, il Ã©tait
destinÃ© au projet PIXHAWK (un projet de
stabilisation du drone et de crÃ©ation de cartes 3D
basÃ© uniquement par la vision). Il est Ã  prÃ©sent utilisÃ©
par de nombreux systÃ¨mes pour communiquer car il
possÃ¨de lâ€™avantage dâ€™Ãªtre trÃ¨s lÃ©ger, libre
dâ€™utilisation et supporte des rÃ©seaux maillÃ©s.
Figure 6 SchÃ©matisation d'un exemple de contrÃ´le multiple de systÃ¨mes
automatiques contrÃ´lÃ©s par MAVLink en liaison maillÃ©e

ELECTRONIC SPEED CONTROLER
AprÃ¨s la gÃ©nÃ©ration de la commande dâ€™ordre Ã  envoyer au moteur, il est nÃ©cessaire de lâ€™envoyer via un signal appelÃ©
PWM (Pulse Width Modulation). Ce signal est un signal Ã  impulsions dâ€™une durÃ©e dÃ©terminÃ©e. Cette impulsion,
envoyÃ©e Ã  durÃ©e fixe va Ãªtre plus ou moins longue en fonction de la vitesse Ã  laquelle le moteur doit tourner.
Lâ€™ESC, en recevant ce signal (dâ€™une frÃ©quence de 50 Ã  400Hz, tout dÃ©pend de la qualitÃ© de lâ€™ESC), va ensuite devoir
gÃ©nÃ©rer un signal de puissance vers le moteur quâ€™il contrÃ´le.
Mais quel est le type de signal que lâ€™ESC envoie Ã  ces moteurs ? Ne peut-on pas simplement envoyer
un courant et faire varier la puissance ?
Pour comprendre cela, utilisons un oscilloscope. Branchons sur
celui-ci quatre entrÃ©es (il est possible dâ€™en utiliser deux, Ã  la
condition quâ€™ils soient bien synchronisÃ©s). La premiÃ¨re correspond
au signal PWM envoyÃ© Ã  lâ€™ESC. Les trois autres correspondent Ã 
chaque signal envoyÃ© Ã  chaque ligne dâ€™un moteur. La masse est
commune et correspond Ã  la masse de lâ€™alimentation de lâ€™ESC. Le
signal obtenu correspond Ã  trois signaux trapÃ©zoÃ¯daux toujours de
mÃªme intensitÃ©. La vitesse va Ãªtre rÃ©gulÃ©e par la frÃ©quence des
signaux. Augmenter la frÃ©quence fait tourner le moteur plus
rapidement, tandis que diminuer la frÃ©quence le fait tourner plus
lentement. Afin de faire tourner le moteur, il est tout dâ€™abord
nÃ©cessaire Â« dâ€™attirer Â» lâ€™aimant du rotor puis de le Â« repousser Â»
lorsquâ€™il est Ã  la bonne position, tout en lâ€™attirant de nouveau sur le
suivant. Ainsi les signaux sont-il complÃ©mentaires. Un signal sera Figure 7 Visualisation des signaux Ã©mis au moteur
utilisÃ© comme masse tandis que les deux autres fourniront le courant
Ã  deux bobines.

11

LES HELICES
HELICES
Une hÃ©lice comporte essentiellement un moyeu et des pales ; celles-ci sont identiques et font entre elles des angles
Ã©gaux. Certaines hÃ©lices plus perfectionnÃ©es peuvent faire varier lâ€™angle, elles sont orientables dans toutes les
directions. Le moyeu correspond Ã  la partie gÃ©nÃ©ralement cylindrique qui se fixe Ã  lâ€™arbre porte-hÃ©lice. Le pas dâ€™une
hÃ©lice correspond Ã  la distance rÃ©alisÃ©e dans un fluide non-compressible lors dâ€™un tour complet de lâ€™hÃ©lice. Elle est
dÃ©terminÃ©e par la formule ğ» = 2 ğœ‹ ğ‘Ÿ ğ‘¡ğ‘” ğœƒ = ğ‘ğ‘œğ‘›ğ‘ ğ‘¡ğ‘ğ‘›ğ‘¡ğ‘’ avec r la distance de la section de lâ€™hÃ©lice et Î¸ la rotation
de la pale. Ainsi nos hÃ©lices de 12x7" possÃ¨dent-elles un angle de rotation tan ğœƒ =

ğ»
2ğœ‹ğ‘Ÿ

=

7
2ğœ‹ 6

= 0.18568

donc ğœƒ â‰ˆ 10.5Â°. AprÃ¨s vÃ©rification, ce rÃ©sultat est vrai.
Dâ€™aprÃ¨s la thÃ©orie de Froude, nous avons un Ã©coulement
thÃ©orique comme sur le schÃ©ma prÃ©sentÃ© ici.
Le calcul du rendement sâ€™effectue de la maniÃ¨re suivante :
ğœ”=

2
ğ‘‰
ğ‘‰2

1+ 0

Malheureusement, le rendement rÃ©el ne dÃ©passe en
gÃ©nÃ©ral pas 85% du rendement thÃ©orique, ceci Ã©tant dÃ» :
-

Au frottement des pales contre lâ€™air
A lâ€™Ã©coulement radial du fluide contre les pales
A de nombreuses autres causes nÃ©gligeables qui,
sommÃ©es, ne donnent pas un rÃ©sultat nÃ©gligeable.

Cependant, cette donnÃ©e datant de 1980, de nombreuses
amÃ©liorations ont permis une diffÃ©rence de rendement
thÃ©orique/pratique de seulement 96 Ã  97% pour les
meilleures hÃ©lices ! Nos hÃ©lices nâ€™Ã©tant pas parmi cellesci, le rendement pratique tendrait vers 0.85 ğœ”
Figure 8 SchÃ©ma explicatif de la thÃ©orie de Froude quant Ã  la thÃ©orie
unidimensionnelle des hÃ©lices

ACTION â€¦ REACTION !
Un phÃ©nomÃ¨ne trÃ¨s important dans le monde du multi rotor est le couple. Regardez le fonctionnement dâ€™un
hÃ©licoptÃ¨re : il est constituÃ© dâ€™une grande hÃ©lice â€¦ et dâ€™une plus petite. Cette petite hÃ©lice est appelÃ©e rotor de queue
ou rotor dâ€™anti-couple ! Sans celui-ci, lâ€™hÃ©licoptÃ¨re tournerait sur lui-mÃªme et ne pourrait mÃªme pas dÃ©coller sans
sâ€™Ã©craser â€¦ Pourquoi me diriez-vous ? Pour cela, faisons une expÃ©rience trÃ¨s simple : asseyez-vous sur une chaise
roulante. Tendez bras et jambes et tournez brusquement vos bras vers la gauche. Vos jambes ne restent pas fixes :
elles tournent dans le sens contraire de la rotation de vos bras, ici vers la droite. Câ€™est la loi dâ€™action-rÃ©action,
Ã©galement appelÃ©e troisiÃ¨me loi de Newton.
Â« TOUT CORPS A EXERÃ‡ANT UNE FORCE SUR UN CORPS B SUBIT UNE FORCE D'INTENSITE EGALE, DE MEME DIRECTION MAIS
DE SENS OPPOSE, EXERCEE PAR LE CORPS B. Â»
TROISIEME LOI DE NEWTON.

12

Tout ceci se passe exactement de la mÃªme maniÃ¨re pour un quadricoptÃ¨re. Chaque moteur va tourner dans un sens,
si tous tournaient dans le mÃªme sens le quadricoptÃ¨re tournerait dans le sens opposÃ©. Il est donc nÃ©cessaire de mettre
des hÃ©lices dâ€™anti-couple, câ€™est-Ã -dire quâ€™elles vont tourner dans le sens inverse des aiguilles dâ€™une montre tandis
que les autres tournent dans le sens des aiguilles dâ€™une montre. Ces hÃ©lices sont montÃ©es face Ã  face et sont deux Ã 
deux inversÃ©es.
Pour mieux comprendre ce phÃ©nomÃ¨ne, rÃ©alisons une expÃ©rience : lanÃ§ons un objet assez lourd dâ€™une barque en
exerÃ§ant une force de valeur F sur lâ€™objet, la barque reculera car lâ€™objet aura rÃ©agi Ã  cette force pour exercer une
force de mÃªme intensitÃ© F sur vous. Il se rÃ©alise exactement le mÃªme phÃ©nomÃ¨ne sur le drone.

TRANSPORT Dâ€™UNE MASSE DE A EN B
Notre application visant le transport de dÃ©fibrillateurs implique que notre drone devra transporter une certaine
masse.
Mais quelles forces agissent sur le drone sans le poids
ajoutÃ© ?
Le systÃ¨me Ã©tudiÃ© est donc le drone et nous lâ€™Ã©tudierons dans un rÃ©fÃ©rentiel terrestre supposÃ© galilÃ©en.
Les forces extÃ©rieures exercÃ©es sur le drone sont alors :
-

Son poids ğ‘ƒâƒ—âƒ— dÃ©coulant de la gravitÃ©

-

Les frottements ğ‘“âƒ— exercÃ©s par lâ€™air

-

La rÃ©action de lâ€™air ğ¹âƒ— permettant au systÃ¨me au repos dâ€™Ãªtre pseudo-isolÃ©

Les frottements de lâ€™air sont calculÃ©s ainsi :
ğ‘“=

ğ¶ğ‘¥ ğœŒğ‘†ğ‘£ 2
2

Avec :
-

Cx le coefficient de rÃ©sistance aÃ©rodynamique (coefficient de trainÃ©e)
ğœŒ la masse volumique de lâ€™air
ğ‘† le maitre-couple
ğ‘£ la vitesse air-systÃ¨me

Le drone ne dÃ©passant pas une vitesse dâ€™environ 30km.h-1 et le coefficient Cx de rÃ©sistance aÃ©rodynamique Ã©tant
infÃ©rieur Ã  1, nous pouvons en dÃ©duire que les frottements de lâ€™air au systÃ¨me complet sont petit.
Ceci pose un nouveau problÃ¨me. Au niveau dâ€™un moteur,
lâ€™air est trÃ¨s rapide, quelle forme doit alors avoir la section
des bras ? Le moteur doit-il Ãªtre au-dessus ou en dessous du
bras ?
Plusieurs sections de bras sont disponibles : circulaire, carrÃ©e ou fuselÃ©e.

13

Le coefficient de trainÃ©e (Cx) des sections citÃ©es ci-dessus est respectivement de 0.47 ; 1.05 et 0.04. Notre premier
prototype possÃ©dait des bras Ã  section carrÃ©e, soit Cx=1.05, le troisiÃ¨me une section circulaire Cx=0.47 et le
quatriÃ¨me une section fuselÃ©e soit Cx=0.04
La diffÃ©rence entre une section circulaire et une section fuselÃ©e est de 1.01 tandis quâ€™entre une section carrÃ©e et une
section circulaire, la diffÃ©rence est de 0.58.
La diffÃ©rence de frottements de lâ€™air entre le premier (et le second) prototype et le troisiÃ¨me prototype est de 58%
tandis quâ€™entre le premier et le dernier (quatriÃ¨me) la diffÃ©rence est de 101% ! Il est donc trÃ¨s intÃ©ressant de modifier
la section des bras ! De plus dâ€™aprÃ¨s la thÃ©orie de Froude, la vitesse au-dessus des bras est infÃ©rieure Ã  la vitesse en
dessous des bras, il est donc plus intÃ©ressant de mettre les bras au-dessus quâ€™en dessous des moteurs.
Que se passe-t-il lorsque nous y ajoutons une masse ?
Tout dâ€™abord, nous avons fait un test de vol sans le nouveau poids, oÃ¹ lâ€™on a testÃ© la durÃ©e maximale Ã  laquelle le
drone pouvait voler. Elle sâ€™Ã©levait en thÃ©orie Ã  24.49 minutes. En pratique, le rÃ©sultat Ã©tait infÃ©rieur Ã  une vingtaine
de minutes, Ã  cause de conditions de tempÃ©rature et de pression diffÃ©rentes, et dâ€™arrÃªts rÃ©guliers lors du test
comprenant plusieurs phases de dÃ©collage/atterrissage. Pendant ce mÃªme test nous avons branchÃ© du dÃ©but Ã  la fin
une pince ampÃ©romÃ©trique sur notre drone. Lâ€™intensitÃ© qui devait sâ€™Ã©lever en moyenne Ã  9.58 A dâ€™aprÃ¨s eCalc câ€™est
rÃ©vÃ©lÃ© Ãªtre entre 9 et 10A, soit une moyenne de 9.5A. Les rÃ©sultats se sont donc rÃ©vÃ©lÃ©s Ãªtre trÃ¨s prÃ©cis. Sachant que
la batterie fonctionne avec un voltage de 11,60 V avec les composants dont nous disposons, la relation P=UxI nous
permet de dÃ©terminer la puissance moyenne utilisÃ©e. Ainsi notre puissance moyenne sâ€™Ã©levait Ã  environ 110 W pour
un poids total du drone de 1100 g. La thÃ©orie annonÃ§ait 113W. De plus, avec son poids Â« standard Â», nous avons
remarquÃ© que le drone dÃ©collait au premier quart de la manette des gaz.
Nous avons ensuite rÃ©pÃ©tÃ© cette expÃ©rience avec une masse de 1500 g (nâ€™ayant pas de dÃ©fibrillateur, nous avons
utilisÃ© une masse quelconque) pour un poids total du drone de 2600 g et un temps de vol estimÃ© vers 7 minutes.
Ainsi nous trouvÃ¢mes une intensitÃ© moyenne de 30.72 A et donc une puissance de 30,72x11,60 soit environ 356 W.
Pour le dÃ©collage, il a fallu pousser la manette des gaz Ã  plus de la moitiÃ©. Cependant la manette se situait en dessous
de la valeur critique de 80%, permettant tout de mÃªme une assez bonne maniabilitÃ©.
Ainsi, pour dÃ©terminer la puissance quâ€™il faudra en plus, nous avons simplement fait la diffÃ©rence entre la puissance
fournie avec le dÃ©fibrillateur et la puissance fournie sans celui-ci. Nous trouvÃ¢mes ainsi une puissance de 356-110
soit 246 W en plus. De mÃªme, pour ce qui est du temps de vol, le drone aurait perdu une autonomie maximale
dâ€™environ 15 minutes et pour ce qui est du pourcentage de la manette des gaz au dÃ©collage, il faudra compter 40%
en plus.
Le temps de vol en est donc trÃ¨s rÃ©duitâ€¦Serait-il possible
de rÃ©duire la masse de lâ€™ensemble drone-dÃ©fibrillateur ?
Nâ€™ayant pas Ã  notre disposition un vrai dÃ©fibrillateur (car coÃ»tant excessivement cher !) nous avons tentÃ© dâ€™estimer
la masse des piles qui sont Ã  lâ€™intÃ©rieur et du boitier qui protÃ¨ge lâ€™ensemble. Les batteries NiCd de 650 mAh 12V
utilisÃ©es dans la plupart des dÃ©fibrillateurs ont un poids variant aux alentours de 500g. Le boitier plastique serait
certainement dâ€™un poids entre 200 et 700g. Il serait donc possible de rÃ©duire le poids jusquâ€™Ã  environ 1.5Kg. Des
tests de portÃ©e de cette masse nous permettent dâ€™en dÃ©duire que la manette des gaz est dâ€™environ 30-35% pour un
temps de vol de prÃ¨s de 15 minutes Ã  une puissance fournie de 14.00*11.60=162.4W.
La seconde solution serait dâ€™utiliser des dÃ©fibrillateurs de poche dâ€™une masse totale dâ€™environ 500g (batterie et
Ã©lectrodes incluses). Cependant leur prix est presque le double de ceux dâ€™un dÃ©fibrillateur classique.

14

Le poids peut Ãªtre rÃ©parti en dessous et au-dessus du drone. Le centre de gravitÃ© est actuellement plus bas que les
hÃ©lices. Il doit Ãªtre en thÃ©orie dans le mÃªme plan que les hÃ©lices, ceci permettant de rÃ©duire au minimum la force
de poussÃ©e ğ¹âƒ— nÃ©cessaire pour un dÃ©placement et pour stopper lâ€™inertie du drone.
Le dÃ©fibrillateur pourrait donc Ãªtre Ã©ventuellement divisÃ© en deux parties : la premiÃ¨re partie serait la commande et
les Ã©lectrodes. Ayant une nÃ©cessitÃ© dâ€™Ãªtre Ã  la disposition, elles devraient Ãªtre placÃ©es au-dessus du drone. La partie
de puissance (transformateurs par exemple) et la batterie (Ã  la condition de lâ€™utiliser) pourraient se situer en
dessous, ceci permettant de recentrer le centre de gravitÃ© vers le plan des hÃ©lices.

Le fonctionnement prÃ©cis du drone compris, nous pouvons Ã  prÃ©sent nous centrer sur la rÃ©alisation pratique de celuici et aux diffÃ©rents tests qui nous ont permis de comprendre quels facteurs modifier pour optimiser les temps de vol,
la maniabilitÃ©, et la masse du drone.

TESTS ET PROTOTYPAGE
La conception est une Ã©tape importante, qui doit permettre dâ€™Ã©valuer la faisabilitÃ© du projet selon nos
capacitÃ©s (connaissances, savoir-faire, finances,â€¦) et dâ€™identifier les diffÃ©rents composants nÃ©cessaires Ã  la
rÃ©alisation dâ€™un projet. Souvent, lors de la rÃ©alisation puis des essais, de nouvelles questions se posent auxquelles il
faut rÃ©pondre en sâ€™adaptant et en faisant Ã©voluer le concept pour amÃ©liorer le projet. Câ€™est la dÃ©marche que nous
avons adoptÃ©e en rÃ©alisant diffÃ©rents prototypes.
Une fois la carte dÃ©terminÃ©e et le fonctionnement du drone compris, nous nous sommes intÃ©ressÃ©s aux
autres composants nÃ©cessaires Ã  son fonctionnement. Ces autres composants devaient rentrer dans notre budget et
Ãªtre compatible avec la carte de contrÃ´le sÃ©lectionnÃ©e. Nous avons donc fait lâ€™acquisition de :
- carte de vol (VRBrain)
- moteurs sans balais (BLDC)
- contrÃ´leurs de vitesse (ESC)

15

- hÃ©lices
- batterie (LiPo puis LiFe)
- camÃ©ra
- transmetteurs divers (TÃ©lÃ©mÃ©trie Ã  433MHz, Radio Ã  2.4GHz, Audio/VidÃ©o Ã  1.2GHz)
- matÃ©riaux divers pour la structure (Fibre dâ€™Ã©poxy, aluminium, fibre de verre)
Apres la rÃ©ception de toutes nos piÃ¨ces, nous avons procÃ©dÃ© Ã  la rÃ©alisation du chÃ¢ssis, de la structure de notre drone
puis nous avons fait le montage des divers composants qui nous a pris 3 jours.

PREMIER PROTOTYPE
La premiÃ¨re version de la structure Ã©tait constituÃ©e de plaques en PVC de 18 cm de cÃ´tÃ© qui ont comme
particularitÃ© dâ€™Ãªtre lÃ©gÃ¨res et de deux barres en aluminium solides et peu chÃ¨res de 67 cm de longueur maintenues
par ces plaques. Le reste du montage est assez simple : il faut relier lâ€™APM au module XBee, aux ESC et relier les
ESC aux moteurs.
AprÃ¨s le montage effectuÃ© nous nous sommes attardÃ©s Ã  diffÃ©rents tests que nous avons rÃ©alisÃ©s dans le gymnase de
notre lycÃ©e pendant nos sÃ©ances de TPE. AprÃ¨s une calibration des contrÃ´leurs de vitesses et dâ€™une vÃ©rification de
compensation des moteurs et du sens de rotation de ceux-ci, nous avons pratiquÃ© quelques tests de vols trÃ¨s
instructifs. Ces premiers vols ont Ã©tÃ© rÃ©vÃ©lateurs de deux problÃ¨mes : un problÃ¨me de stabilitÃ© et un problÃ¨me de
poids. En effet, le drone oscille et nous nous sommes rendu compte que nous devons rÃ©gler les paramÃ¨tres PID.
Pour le problÃ¨me de poids (1,6 kg), nous nous en sommes rendu compte lors du dÃ©collage car les moteurs ont du
mal Ã  faire dÃ©coller notre quadricoptÃ¨re, car en effet, pour un dÃ©collage, il a fallu mettre la manette des gaz Ã  plus de
80% !
Ces problÃ¨mes ont abouti Ã  la rÃ©alisation dâ€™un second prototype pour sa rÃ©solution. Nous avons alors rencontrÃ© une
succession de problÃ¨mes dans nos divers prototypes qui seront rÃ©solu dans les prototypes suivants pour un objectif
dâ€™amÃ©lioration au niveau de nos applications de surveillance et de localisation.

16

DEUXIEME PROTOTYPE
Objectif principal : diminuer le poids
Alors que nous pensions que 67cm dâ€™entraxe moteurs permettait de faire un drone plus simplement car il
sâ€™agit dâ€™une distance moyenne entre plusieurs chÃ¢ssis trouvÃ©s sur le net, nous avons remarquÃ© que lâ€™aluminium que
nous utilisions pesait tout de mÃªme 1g.cm-1 et que les fils que nous avions mis Ã  lâ€™intÃ©rieur pesaient 3g.cm-1 â€“ il
sâ€™agit de fils de cuivre de rÃ©cupÃ©ration donc pas prÃ©vus pour la lÃ©gÃ¨retÃ© mais trÃ¨s robustes car ils supportaient trÃ¨s
bien les forts courants ! -. AprÃ¨s rÃ©flexion, nous avons donc dÃ©cidÃ© de rÃ©duire lâ€™entraxe moteur Ã  40 cm, le minimum
raisonnable pour des hÃ©lices de 10x4.5" comme les nÃ´tres, ce qui permet Ã©galement de supprimer les fils de puissance
que nous avons utilisÃ©s pour la premiÃ¨re version.
Les nouveautÃ©s de ce second prototype sont donc assez limitÃ©es : il nous a fallu couper les bras des moteurs
et changer la plaque de PVC par une dâ€™un autre matÃ©riau. TrÃ¨s utilisÃ©e en Ã©lectronique, la fibre dâ€™Ã©poxy permet
dâ€™offrir, pour un poids quasi-identique une rÃ©sistance incomparable. Nous avons donc choisi ce matÃ©riau, nous
permettant dans un mÃªme temps de couper les barres en dessous du drone pour y placer la batterie, sâ€™y trouvant ainsi
coincÃ©e entre une plaque dâ€™Ã©poxy et une autre en mÃ©canoÂ®. Nous obtenons au final un gain de 0,5Kg
AprÃ¨s une rencontre dans un forum dâ€™aÃ©romodÃ©lisme de plusieurs personnes, nous nous sommes aperÃ§us
que, bien que les hÃ©lices soient fabriquÃ©es en usine, la densitÃ© de plastique ou de carbone rÃ©sultant de sa fabrication
nâ€™est pas uniforme. Il faut donc les Ã©quilibrer. Lâ€™Ã©quilibrage est une Ã©tape trÃ¨s simple qui consiste Ã  attacher une
hÃ©lice sur une tige filetÃ©e qui repose sur un systÃ¨me de maintien Ã©lectromagnÃ©tique permettant de supprimer les
frottements dus au maintien de la tige. Ce second prototype prÃ©sentait les avantages dâ€™une robustesse importante,
mais restait toujours relativement fragile face Ã  un crash important. Ce second prototype prÃ©sente donc une nette
amÃ©lioration, mais reste trÃ¨s lourd pour la puissance quâ€™il peut fournir, le problÃ¨me semble venir de la batterie qui,
Ã©tant trÃ¨s dangereuse va surement Ãªtre remplacÃ©e par une autre alternative Ã  chercher. Cette batterie devra Ãªtre, si
possible, moins dangereuse pour lâ€™environnement, pour lâ€™homme et le matÃ©riel. Concernant la sÃ©curitÃ©, le prochain
prototype devra Ã©galement Ãªtre capable de protÃ©ger le drone et Ãªtre prÃ©munie de tout risque de blessure humaine.

TROISIEME PROTOTYPE
Objectif : amÃ©liorer la sÃ©curitÃ© humaine et matÃ©rielle du quadricoptÃ¨re

CONCEPTION
Une rÃ©elle innovation de notre projet est
apparue ici : aprÃ¨s de nombreux crashs nous nous
sommes aperÃ§us de la rÃ©elle importance dâ€™une
protection. AprÃ¨s diverses recherches nous sommes
arrivÃ©s sur un site qui annonÃ§ait la nouvelle version
du drone Japonais destinÃ© Ã  une utilisation civile et
militaire. Lâ€™idÃ©e de construire une structure en
sâ€™inspirant de la leur nous est donc venue
immÃ©diatement. Cependant le poids dâ€™ArduSpider
Ã©tait dÃ©jÃ  de 1,056 Kg nous avons donc du opter pour
une structure plus lÃ©gÃ¨re en fibre de carbone. Le
poids total du projet est Ã  prÃ©sent de 1,100Kg

17

Figure 9 Ã‰quilibrage d'une hÃ©lice

incluant la protection. Celle-ci est pliable pour amortir les chocs lors de lâ€™atterrissage volontaire ou pas.
Un problÃ¨me de fabrication de notre batterie LiPo a entraÃ®nÃ© la crevaison de la poche dâ€™une de nos cellules. En
connaissant les dÃ©gÃ¢ts quâ€™une seule cellule pourrait faire sur lâ€™Homme et son environnement, nous avons recherchÃ©
une alternative.
Apparue dÃ©but 2007, une nouvelle batterie Ã  fait son apparition et sâ€™est rapidement popularisÃ©e en modÃ©lisme et en
robotique. Cette batterie appelÃ©e A123, LiFePO4, Phosphate de fer litiÃ© ou LiFe, ressemble Ã  une batterie plus courte
et plus large que le format AA standard. Ce nouveau type de cellules est directement issu des batteries Li-Ion dÃ©jÃ 
utilisÃ©es dans les ordinateurs portables et est Ã  lâ€™origine destinÃ© aux voitures Ã©lectriques. Leur avantage est leur
importante densitÃ© dâ€™Ã©nergie, presque Ã©quivalente Ã  celles des LiPo et le fait quâ€™elles nâ€™explosent pas !
Le poids dâ€™ArduSpider Ã©tant important, nous avons optÃ© pour quatre cellules mais de 2300mAh, permettant un gain
de poids de presque 300g. Le prototype nâ€™est Ã  prÃ©sent plus dangereux

TESTS DU TROISIEME PROTOTYPE
Les tests se sont faits chez nous car nous devions absolument respecter le calendrier prÃ©vu. Le premier vol
a Ã©tÃ© trÃ¨s stable, mais sâ€™est terminÃ© Ã  lâ€™envers suite Ã  une rafale de vent qui Ã©tait normalement compensable par
lâ€™autopilote. Nous avons donc remarquÃ© que les rÃ©glages PID par dÃ©faut Ã©taient trop faibles. AprÃ¨s quelques tests
nous avons finalement trouvÃ© le bon rÃ©glage, trÃ¨s proche des valeurs par dÃ©faut. Cependant, aprÃ¨s quelques heures
de vol, nous avons fini par nous amÃ©liorer dans le contrÃ´le du drone et avons remarquÃ© quâ€™un problÃ¨me de stabilitÃ©
persistait. Deux possibilitÃ©s, le rÃ©glage Ã©tant dÃ©jÃ  fait : des capteurs qui ne sont pas suffisamment performants, ou
un problÃ¨me de prÃ©cision de la radiocommande. Il faudrait donc trouver un moyen de changer la carte inertielle,
voire toute la carte de vol, afin de changer les gyroscopes/accÃ©lÃ©romÃ¨tres par une centrale inertielle 6DOF
MPU6000. La radiocommande pourra Ãªtre remplacÃ©e par un systÃ¨me plus performant, comme un joystick. Le sonar
qui a Ã©tÃ© ajoutÃ© dans le second prototype a Ã©tÃ© testÃ©, mais le drone sâ€™est Ã©crasÃ© â€¦ au plafond, suite Ã  un
dysfonctionnement interne. AprÃ¨s avoir regardÃ© la boite noire du drone, et Ã©tude du systÃ¨me de contrÃ´le nous avons
dÃ©cidÃ© dâ€™utiliser un sonar numÃ©rique, le problÃ¨me pouvant se situer dans un brouillage Ã©lectromagnÃ©tique dÃ» aux
courants alternatifs triphasÃ©s gÃ©nÃ©rÃ©s par les ESC.

QUATRIEME PROTOTYPE
Objectifs : amÃ©liorer la maniabilitÃ©, la stabilitÃ©, â€¦
Repenser le modÃ¨le au vu de lâ€™expÃ©rience acquise grÃ¢ce aux
prototypes prÃ©cÃ©dents. Repenser lâ€™aÃ©rodynamisme.

CONCEPTION
Quelques mois se sont Ã©coulÃ©s. Lâ€™inscription aux
Olympiades de Physique France nous a permis un renouveau du
projet : un budget nous a Ã©tÃ© fourni et un partenariat a Ã©tÃ© conclu
avec Roberto Navoni, le crÃ©ateur dâ€™une carte de vol plus
perfectionnÃ©e. Tout ceci nous a permis de concevoir un
quatriÃ¨me prototype plus performant. Nouvelle carte de vol Ã 
processeur Cortex M4, centrale inertielle 6DOF (6 axes : x, y, z
pour lâ€™accÃ©lÃ©romÃ¨tre et il en est de mÃªme pour le gyroscope),
nouvelle commande de piÃ¨ces pour un sonar en sont quelques

18

Figure 10 TroisiÃ¨me prototype, longtemps utilisÃ©
pour les phases de test

nouvelles caractÃ©ristiques. AprÃ¨s la lecture de livres sur
la mÃ©canique des fluides (MÃ©thodes Comolet et
Rebuffet), nous avons tentÃ© une nouvelle approche de
notre prototype : le faire le plus aÃ©rodynamique
possible. Nous voulions optimiser le rendement, et
pour ceci, il nâ€™y avait que deux solutions : lâ€™allÃ©ger ou
rÃ©duire au minimum la force de frottements de lâ€™air sur
le drone, pour utiliser moins dâ€™Ã©nergie. Ayant deux
possibilitÃ©s pour rÃ©aliser une force de frottements
minimale, nous avons tentÃ© les deux. La premiÃ¨re est
un chÃ¢ssis en croix, tandis que la seconde est en H. Le
chÃ¢ssis en croix est un chÃ¢ssis trÃ¨s utilisÃ© que nous
utilisons depuis le dÃ©but, et prÃ©sente lâ€™avantage dâ€™Ãªtre
simple Ã  construire. Le chÃ¢ssis en H, bien que plus
compliquÃ© Ã  construire, permet dâ€™utiliser la moitiÃ© du
matÃ©riel des fixations et des barres, et donc un gain de poids
assez lÃ©ger. Dans un mÃªme souci aÃ©rodynamique, nous avons souhaitÃ© Figure 11 Test de vol du quatriÃ¨me prototype.
retourner les moteurs pour les mettre vers le sol. En effet, le flux dâ€™air qui Lâ€™emplacement du vol est limitÃ© au carrÃ© en bois pour
sâ€™Ã©coule des hÃ©lices a une importance plus grande aprÃ¨s Ãªtre passÃ© dans les des raisons de sÃ©curitÃ©
hÃ©lices quâ€™avant. Nous avons Ã©galement modifiÃ© le profil des bras, passant
dâ€™un bras carrÃ© en aluminium (qui entraine un Ã©coulement tourbillonnaire du fluide) Ã  un bras cylindrique en fibre
de verre (rÃ©duisant les tourbillons, lÃ©gÃ¨rement prÃ©sents mais entrainant une perte nÃ©gligeable).
La nouvelle carte nous a Ã©tÃ© fournie pour 200â‚¬ les deux cartes au lieu de 570â‚¬ (prix public), mais toujours
afin de trouver une meilleure stabilitÃ©, nous avons choisi dâ€™isoler les ESC, gros gÃ©nÃ©rateurs de champs
Ã©lectromagnÃ©tiques, avec une plaque dâ€™Ã©poxy cuivrÃ©e. Ceci permet au MPU6000 de ne pas Ãªtre brouillÃ© et donc
dâ€™Ãªtre plus prÃ©cis.
Parmi les problÃ¨mes soulevÃ©s, le problÃ¨me de poussÃ©e a Ã©tÃ© souvent nÃ©gligÃ©. Ainsi avons-nous testÃ© une
autre paire dâ€™hÃ©lices en 11x4.7" au lieu de 10x4. 5". AprÃ¨s simulations diverses (utilisation du site xcopter calc)
nous avons remarquÃ© une autonomie bien supÃ©rieure par lâ€™utilisation dâ€™une batterie LiFe 4S2P (4 cellules en sÃ©rie et
2 en parallÃ¨le), passant de 10 Ã  25 minutes possibles de vol (ceci reste une simulation, en considÃ©rant que la batterie
est rodÃ©e et que la tempÃ©rature et la pression soient exactement les mÃªmes que celles entrÃ©es dans le simulateur.
Le prototype nÂ°4 est donc une Ã©tape importante dans lâ€™Ã©volution de notre projet. Mais notre travail ne sâ€™est pas
concentrÃ© que sur la partie volante : pour amÃ©liorer le contrÃ´le du quadricoptÃ¨re, une grande modification de la
partie commande a Ã©tÃ© apportÃ©e.

STATION DE CONTROLE AU SOL
Lors de notre TPE et des trois premiers prototypes, nous avions utilisÃ© une boite en carton et un ordinateur portable
dans lesquels nous avions implantÃ© les composants, cependant, nous nous sommes trÃ¨s rapidement confrontÃ©s Ã  un
problÃ¨me : lâ€™ordinateur portable est moins puissant quâ€™un ordinateur fixe et donc ne permet pas, sans risque de
plantage, dâ€™enregistrer la vidÃ©o et dâ€™utiliser les logiciels de contrÃ´le. Un second problÃ¨me se posait : au fur et Ã 
mesure de nos vols, nous avons remarquÃ© que la tÃ©lÃ©commande, de par ses petits joysticks, ne permettait pas un
contrÃ´le prÃ©cis du drone, le faisant lÃ©gÃ¨rement varier par rapport Ã  ce que nous voulions. Lâ€™idÃ©al Ã©tant bien sÃ»r de se
passer de joystick mais les contrÃ´les Ã  la voix et au geste de sont pas assez prÃ©cis et fiables pour se passer totalement
de joystick. Nous avons donc optÃ© pour un Â« carton Â» plus consÃ©quent et plus solide dans lequel nous aurions un
systÃ¨me fiable, solide et trÃ¨s Ã©volutif. Concernant la soliditÃ©, nous avons optÃ© pour le choix dâ€™un Flight Case (cf.

19

Site internet pour sa construction) plus solide et plus gros
quâ€™un simple carton. Pour la fiabilitÃ©, ayant un Flight Case,
nous pouvons y mettre un ordinateur fixe, assurant ainsi une
meilleure fiabilitÃ©. Pour la partie Ã©volutive, deux problÃ¨mes
se posaient : le choix dâ€™une ou plusieurs interfaces de
communication et la puissance de calcul. La seconde souspartie est rapidement rÃ©solue en utilisant un second pc pour
les calculs secondaires Ã©ventuels comme des traitements du
son ou de lâ€™image pour des simulations 3D, consommant
dâ€™avantage mais empÃªchant le premier pc dâ€™une surcharge
trop importante le faisant ralentir. Pour contrer au premier
problÃ¨me, nous avons optÃ© pour lâ€™utilisation dâ€™une carte
arduino contrÃ´lant toute la partie radiocommande. Le reste
nâ€™Ã©tant quâ€™alimentations et cartes Ã  interface sÃ©rie/FTDI. Ainsi Figure 12 Station de contrÃ´le au sol rÃ©alisÃ©e Ã  l'occasion du
avons-nous pu commencer Ã  mieux concevoir le Flight Case. quatriÃ¨me prototype
La premiÃ¨re Ã©tape a Ã©tÃ© de rÃ©aliser les plans de construction : choix des planches, de la taille du Flight Case,
des emplacements des composants, etc. Câ€™est alors quâ€™un autre problÃ¨me sâ€™est posÃ© : comment alimenter tous ces
modules ? Les ordinateurs ont une alimentation Ã  dÃ©coupage sÃ©parÃ©e propriÃ©taire, nous nâ€™y avons donc pas touchÃ©,
mais lâ€™ensemble des autres modules qui ne sâ€™alimentaient pas en USB utilisaient un transformateur 12 ou 9V continu.
Utiliser 5 alimentations auxiliaires non stabilisÃ©es (un pont de diode ne redresse pas trÃ¨s bien un signal alternatif)
consommant excessivement beaucoup pour le peu de courant qui en sortait nous paraissait totalement inenvisageable
car cela entrainait forcÃ©ment une consommation excessive et une chaleur interne de plus de 30Â°C. Nous avons donc
optÃ© pour la transformation dâ€™une alimentation de PC en alimentation 12, 9, 5 et 3.3V. Le 12V est utilisÃ© pour le
rÃ©cepteur Audio/VidÃ©o et le chargeur. Le 9V est utilisÃ© pour lâ€™Ã©metteur radio et le Switch vidÃ©o tandis que le 5V et
le 3.3V sont utilisÃ©s en secours, car les modules utilisent en rÃ©alitÃ© des tensions similaires pour fonctionner. Une fois
le Flight Case rÃ©alisÃ© (une cinquantaine dâ€™heures de travail) il nous a Ã©tÃ© possible dâ€™y amÃ©nager lâ€™intÃ©rieur. Les
premiers pÃ©riphÃ©riques que nous y avons mis ont Ã©tÃ© les PC et un Ã©cran. Les PC sont vissÃ©s et lâ€™Ã©cran lâ€™est Ã©galement
sur une plaque collÃ©e et vissÃ©e sur le plafond. Nous y avons ensuite mis les alimentations (au total 3 alimentations)
puis les modules radio. Mais oÃ¹ les mettre ? Faut-il les laisser Ã  lâ€™intÃ©rieur ou laisser dÃ©passer le connecteur de
lâ€™antenne ? Nous avons, pour lâ€™instant, mis les modules Ã  lâ€™intÃ©rieur, ceci Ã©vitant le risque dâ€™oublier dâ€™y mettre les
antennes et donc â€¦ de griller les amplificateurs opÃ©rationnels qui amplifient le signal avant de lâ€™Ã©mettre. Cependant,
plusieurs types dâ€™antennes existent, et parfois, il est prÃ©fÃ©rable de les mettre Ã  lâ€™extÃ©rieur du flight case. Nous
parlerons de ceci dans le chapitre suivant. Lorsque tout est fixÃ©, nous pouvons nous occuper de la tÃ©lÃ©commande.
Pour ceci de nombreuses solutions ont Ã©tÃ© envisagÃ©es :
- Utilisation dâ€™un joystick de PC analogique (port MIDI/de jeu) : nous avions trouvÃ© un joystick que nous avions
rÃ©cupÃ©rÃ©. Ce joystick Microsoft avait cependant plusieurs gros problÃ¨mes : il fonctionnait Ã  retour de force, or nous
nâ€™avons pas de retour de force possible, et sans ce retour, le joystick ne fonctionnait pas. Le second problÃ¨me est
que le systÃ¨me de positionnement ne possÃ©dait aucun potentiomÃ¨tre, il sâ€™agissait dâ€™un capteur qui utilisait une camÃ©ra
CMOS et quatre leds, ce qui est trÃ¨s difficilement rÃ©cupÃ©rable.
-Utilisation dâ€™un joystick USB : deux possibilitÃ©s de branchement
O Sur lâ€™ordinateur sans aucune modification : il faut donc utiliser le rÃ©seau tÃ©lÃ©mÃ©trique pour commander
intÃ©gralement le drone, donc risque important de latences, et donc de crashs â€¦
O Sur lâ€™ordinateur pour les commandes secondaires (boutons de changement de mode, etc.) et sur la carte
arduino pour les commandes primordiales (joystick pur). Nâ€™ayant pas de joystick USB, nous avons dÃ» en acheter

20

un. Les joysticks possÃ¨dent deux possibilitÃ©s pour reconnaitre la position des manches : lâ€™effet Hall et le
potentiomÃ¨tre. Le potentiomÃ¨tre est la mÃ©thode la moins chÃ¨re mais est moins prÃ©cise et sâ€™use plus rapidement que
le capteur Ã  effet hall. Câ€™est ce que nous avons choisi pour notre joystick car il est relativement simple Ã  utiliser.
Le capteur Ã  effet Hall utilise dâ€™autres mÃ©thodes que nous ne dÃ©crirons pas ici.
La tÃ©lÃ©commande pouvait Ã©galement Ãªtre intÃ©grÃ© ou mise Ã  part Ã  lâ€™aide dâ€™un cÃ¢ble. Ne sachant quoi choisir, nous
avons essayÃ© les deux.

CONCLUSION
Ainsi ce projet nous a-t-il permis de relever un dÃ©fi de conception Ã©lectronique mais aussi dâ€™apprendre de
nouvelles notions dans ce domaine, comme dans celui des mathÃ©matiques par lâ€™apprentissage des intÃ©grales ou
encore en physique et en automatique par les thÃ©ories de Newton ou de Froude. Au terme de ce projet quelques
problÃ¨mes de conception de la structure, de crashs et de rÃ©glages trÃ¨s compliquÃ©s nous ont fait remarquer que
certaines connaissances trÃ¨s pointues devaient Ãªtre acquises, connaissance dâ€™un niveau bac+5 au moins (intÃ©grales
triples, lois de lâ€™aÃ©rodynamique,â€¦). Peut-Ãªtre nos travaux seront-ils repris par dâ€™autres, peut-Ãªtre nos travaux
apporteront-ils une modeste contribution Ã  une application qui pourrait sauver des vies. Alors le projet Â« ArdUFO :
un drone au service de tous Â» aura pris tout son sens. A prÃ©sent, notre but est de lâ€™amÃ©liorer et, au fur et Ã  mesure
que nos connaissances se dÃ©veloppent et que le budget nous est fourni, nous amÃ©liorons le drone par des tests de
simulation de matÃ©riaux plus prÃ©cis, plus fiables et plus rÃ©alistes. Nos prochaines Ã©tapes sont un dÃ©veloppement
complet de lâ€™interface du sonar permettant un dÃ©marrage et un atterrissage automatiques (moments les plus difficiles
pour le contrÃ´le du drone) et par lâ€™Ã©vitement dâ€™obstacles sur tous les cÃ´tÃ©s, puis nous pourrons encore, si le temps et
le budget le permettent de dÃ©ployer un systÃ¨me SLAM pour un meilleur contrÃ´le automatique. Dâ€™autres idÃ©es sont
Ã©galement envisagÃ©es, comme la commande Ã  la voix, au geste voire Ã  la pensÃ©e, les tests sur les grandes distances,
etc. Saurons-nous relever ces nouveaux dÃ©fis ?

21

BIBLIOGRAPHIE

22

-

DIYDrones [en ligne], DIY Drones, 2012 â€“ [ConsultÃ© les 9, 11, 16, 19, 23, 27 et 30 dÃ©cembre 2011 et les
1, 6, 10 et 21 janvier 2012]. Disponible sur http://diydrones.com/

-

ArduPilot-Mega [en ligne], Google Code, 2012 â€“ [ConsultÃ© les 9, 11, 16, 19, 23, 27 et 30 dÃ©cembre 2011
et les 1, 6, 10 et 21 janvier 2012]. Disponible sur http://code.google.com/p/ardupilot-mega/

-

ArduCopter [en ligne], Google Code, 2012 â€“ [ConsultÃ© les 9, 11, 16, 19, 23, 27 et 30 dÃ©cembre 2011 et les
1, 6, 10 et 21 janvier 2012]. Disponible sur http://code.google.com/p/arducopter/

-

Conversations avec des aÃ©romodÃ©listes et fondateur des cartes de Virtualrobotix (Roberto Navoni)

-

Cours dâ€™Ã©lectronique et de physique divers

-

MÃ©canique expÃ©rimentale des fluides, R.COMOLET

-

AÃ©rodynamique expÃ©rimentale, P.REBUFFET

-

AÃ©rodynamique thÃ©orique, P.CALVET

ANNEXE 1
SchÃ©ma de fonctionnement
global

23

24

ANNEXE 2
Code gÃ©nÃ©rÃ© pour
le sÃ©rialiseur

25

/// -*- tab-width: 2; Mode: C++; c-basic-offset: 4; indent-tabs-mode: nil -*/*
* PPM Encoder Joystick for ArdUFO GCS Version 0.9
* Lead author: Lichard Torman(Clement Decoodt)
* Based on code and ideas from Ion Johnson
*
* This firmware is free software; you can redistribute it and/or
* modify it under the terms of the GNU Lesser General Public
* License as published by the Free Software Foundation; either
* version 2.1 of the License, or (at your option) any later version.
*
*/
//Pin Mapping
int Pin_AEL = A11; // Aeleron potentiometer (tangage)
int Pin_ELE = A10; // Elevator potentiometer (roulis)
int Pin_THR = A2; // Throttle potentiometer (acceleration)
int Pin_RUD = A3; // Rudder potentiometer (lacet)
//int Pin_TIpot = 4; // Channel 4, optionnal mode changer
int outPinPPM = A0;
// PPM Output pin
// Raw values
int Raw_AEL;
// raw - 0->1023
int Raw_ELE;
// raw - 0->1023
int Raw_THR;
// raw - 0->1023
int Raw_RUD;
// raw - 0->1023
//int Raw_TIpot; // raw - 0->1023
// For internal use
int AEL;
int ELE;
int THR;
int RUD;
//int TIpot;
// PPM Âµs vars
int Aeleron_uS = 750;
int Elevator_uS = 750;
int Throttle_uS = 750;
int Rudder_uS = 750;

26

// Ch.0 ÂµS var - Aeleron
// Ch.1 ÂµS var - Elevator
// Ch.2 ÂµS var - Throttle
// Ch.3 ÂµS var - Rudder

//int TI_uS = 750;

// Ch.4 ÂµS var - Mode

// Constants for PPM making
int Fixed_uS = 300;
// PPM frame fixed LOW phase
int pulseMin = 750;
// pulse minimum width in uS
int pulseMax = 1700; // pulse maximum width in uS
// Constants
float DualrateMultAel = 1.0; // Aeleron Constant
float DualrateMultEle = 1.0; // Elevator Constant
float DualrateMultThr = 1.5; // Throttle Constant
float DualrateMultRud = 1.25; // Rudder Constant
//float DualrateMultTI = 0.9; // Auxiliary pot. Constant
// Trim
int DualrateAdjAel = -50; // mid adjustment (useless)
int DualrateAdjEle = -50; // mid adjustment (useless)
int DualrateAdjThr = -200; // mid adjustment (useless)
int DualrateAdjRud = -200; // mid adjustment (useless)
//int DualrateAdjTI = 0; // mid adjustment (useless)
/* Lower rates if problem
Constants
DualrateMultAel = 0.5;
DualrateMultEle = 0.5;
DualrateMultThr = 0.9;
DualrateMultRud = 0.7;
DualrateMultTI = 0.9;
Trim
DualrateAdjAel = 200;
DualrateAdjEle = 200;
DualrateAdjThr = 0;
DualrateAdjRud = 100;
DualrateAdjTI = 0;
// Normal/high rates
Constants
DualrateMultAel = 0.9;

27

DualrateMultEle = 0.9;
DualrateMultThr = 0.9;
DualrateMultRud = 0.9;
DualrateMultTI = 0.9;
Trim
DualrateAdjAel = 0;
DualrateAdjEle = 0;
DualrateAdjThr = 0;
DualrateAdjRud = 0;
DualrateAdjTI = 0;
*/

// 22ms loop
ISR(TIMER1_COMPA_vect) {
ppmoutput(); // Jump to ppmoutput subroutine
}
// Global Setup
void setup() {
//Serial.begin(9600);
pinMode(outPinPPM, OUTPUT);
// Giving some voltage for the potentiometers
pinMode(A14, OUTPUT);
digitalWrite(A14, HIGH);
pinMode(A15, OUTPUT);
digitalWrite(A15, HIGH);
pinMode(A13, OUTPUT);
digitalWrite(A13, LOW);
pinMode(A12, OUTPUT);
digitalWrite(A12, LOW);
pinMode(A6, OUTPUT);
digitalWrite(A7, HIGH);
pinMode(A4, OUTPUT);
digitalWrite(A4, LOW);

28

pinMode(A5, OUTPUT);
digitalWrite(A5, HIGH);
pinMode(A6, OUTPUT);
digitalWrite(A6, LOW);
// Setup timer (from Ian Johnson Project, but how ?)
TCCR1A = B00110001; // Compare register B used in mode '3'
TCCR1B = B00010010; // WGM13 and CS11 set to 1
TCCR1C = B00000000; // All set to 0
TIMSK1 = B00000010; // Interrupt on compare B
TIFR1 = B00000010; // Interrupt on compare B
OCR1A = 22000; // 22mS PPM output refresh
OCR1B = 1000;
}
// PPM generation
void ppmoutput() {
// Channel 1 - Aeleron
digitalWrite(outPinPPM, LOW);
delayMicroseconds(Fixed_uS); // Hold
digitalWrite(outPinPPM, HIGH);
delayMicroseconds(Aeleron_uS); // Hold for Aeleron_uS microseconds
// Channel 2 - Elevator
digitalWrite(outPinPPM, LOW);
delayMicroseconds(Fixed_uS); // Hold
digitalWrite(outPinPPM, HIGH);
delayMicroseconds(Elevator_uS); // Hold for Elevator_uS microseconds
// Channel 3 - Throttle
digitalWrite(outPinPPM, LOW);
delayMicroseconds(Fixed_uS); // Hold
digitalWrite(outPinPPM, HIGH);
delayMicroseconds(Throttle_uS); // Hold for Throttle_uS microseconds
// Channel 4 - Rudder
digitalWrite(outPinPPM, LOW);

29

delayMicroseconds(Fixed_uS); // Hold
digitalWrite(outPinPPM, HIGH);
delayMicroseconds(Rudder_uS); // Hold for Rudder_uS microseconds
/* Channel 5 - TI Switch
digitalWrite(outPinPPM, LOW);
delayMicroseconds(Fixed_uS); // Hold
digitalWrite(outPinPPM, HIGH);
delayMicroseconds(TIsw_uS); // Hold for TIsw_uS microseconds

// Channel 5 - Opt. Pot
digitalWrite(outPinPPM, LOW);
delayMicroseconds(Fixed_uS); // Hold
digitalWrite(outPinPPM, HIGH);
delayMicroseconds(TI_uS);
// Hold for TI_uS microseconds
*/
// Synchro pulse
digitalWrite(outPinPPM, LOW);
delayMicroseconds(Fixed_uS); // Hold
digitalWrite(outPinPPM, HIGH); // Start Synchro pulse
}
// From reading to Âµs values
void loop() { // Main loop
// Read Pot. ports for Aeleron, Elevator, Throttle, Rudder and the Auxiliary pot.
Raw_AEL = analogRead(Pin_AEL);
Raw_ELE = analogRead(Pin_ELE);
Raw_THR = analogRead(Pin_THR);
Raw_RUD = analogRead(Pin_RUD);
// Raw_TIpot = analogRead(Pin_TIpot);
// Compensate for discrepancy in pot inputs including centering offset.
// Also use this to invert inputs if necessary
AEL = map(Raw_AEL, 0, 1023, 1200, 0) - 100; // Invert Aeleron pot and slight
centre offset
ELE = map(Raw_ELE, 0, 1023, 1200, 0) - 120; // Invert Elevator pot and slight
centre offset

30

THR = map(Raw_THR, 0, 1023, 0, 1023) + 0; // Throttle (In case of 2nd trim
use)
RUD = map(Raw_RUD, 0, 1023, 0, 1023) + 0; // Rudder (In case of 2nd trim
use)
// TIpot = map(Raw_TIpot, 0, 1023, 1023, 0) + 0; // Auxiliary pot.
// Tranform 0-1023 inputs to ÂµS Rates with trim adjustment
Aeleron_uS = (AEL * DualrateMultAel) + pulseMin + DualrateAdjAel;
Elevator_uS = (ELE * DualrateMultEle) + pulseMin + DualrateAdjEle;
Throttle_uS = (THR * DualrateMultThr) + pulseMin + DualrateAdjThr;
Rudder_uS = (RUD * DualrateMultRud) + pulseMin + DualrateAdjRud;
// TI_uS = (TIpot * DualrateMultTI) + pulseMin + DualrateAdjTI;
// Check the limits
if (Aeleron_uS <= 750) Aeleron_uS = 750;
if (Aeleron_uS >= 1700) Aeleron_uS = 1700;
if (Elevator_uS <= 750) Elevator_uS = 750;
if (Elevator_uS >= 1700) Elevator_uS = 1700;
if (Throttle_uS <= 750) Throttle_uS = 750;
if (Throttle_uS >= 1700) Throttle_uS = 1700;
if (Rudder_uS <= 750) Rudder_uS = 750;
if (Rudder_uS >= 1700) Rudder_uS = 1700;
// if (TI_uS <= 750) TI_uS = 750;
// if (TI_uS >= 1700) TI_uS = 1700;
}

31

32

ANNEXE 3
DÃ©termination du PID
MÃ©thode Ziegler-Nichols

33

34

35

36

37

